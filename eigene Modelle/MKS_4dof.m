function f_xu = MKS_4dof(t,in2,in3,in4,t_ode)
%MKS_4DOF
%    F_XU = MKS_4DOF(T,IN2,IN3,IN4,T_ODE)

%    This function was generated by the Symbolic Math Toolbox version 8.2.
%    08-Apr-2020 10:35:29

I1 = in4(:,5);
I2 = in4(:,6);
I3 = in4(:,7);
I4 = in4(:,8);
L1 = in4(:,9);
L2 = in4(:,10);
c1 = in4(:,11);
c2 = in4(:,13);
d1 = in4(:,12);
d2 = in4(:,14);
dq1 = in2(5,:);
dq2 = in2(6,:);
dq3 = in2(7,:);
dq4 = in2(8,:);
m2 = in4(:,2);
m3 = in4(:,3);
m4 = in4(:,4);
q1 = in2(1,:);
q2 = in2(2,:);
q3 = in2(3,:);
q4 = in2(4,:);
u1 = in3(1,:);
u2 = in3(2,:);
t2 = 1.0./I1;
t3 = dq1-dq3;
t4 = d1.*t3;
t5 = q1-q3;
t6 = c1.*t5;
t7 = q3+q4;
t8 = sin(t7);
t9 = (L2.*dq4.*t8)./2.0;
t10 = (L2.*t8)./2.0;
t11 = sin(q3);
t12 = L1.*t11;
t13 = t10+t12;
t14 = cos(t7);
t15 = (L2.*t14)./2.0;
t16 = cos(q3);
t17 = L1.*t16;
t18 = t15+t17;
t19 = (L2.*dq4.*t14)./2.0;
t20 = L1.^2;
t21 = L2.^2;
t22 = sin(q4);
t23 = I4.*4.0;
t24 = m4.*t21;
t25 = (L2.*dq3.*t14)./2.0;
t26 = t19+t25;
t27 = dq4.*t26;
t28 = dq3.*t18;
t29 = t19+t28;
t30 = dq3.*t29;
t31 = t27+t30;
t32 = (L2.*dq3.*t8)./2.0;
t33 = t9+t32;
t34 = dq4.*t33;
t35 = dq3.*t13;
t36 = t9+t35;
t37 = dq3.*t36;
t38 = t34+t37;
t39 = I3.*I4.*1.6e1;
t40 = m4.^2;
t41 = I4.*m2.*t20.*1.6e1;
t42 = I4.*m3.*t20.*4.0;
t43 = I3.*m4.*t21.*4.0;
t44 = I4.*m4.*t20.*1.6e1;
t45 = m2.*m4.*t20.*t21.*4.0;
t46 = m3.*m4.*t20.*t21;
t47 = cos(q4);
t48 = t22.^2;
t49 = t20.*t21.*t40.*t48.*4.0;
t50 = t39+t41+t42+t43+t44+t45+t46+t49;
t51 = 1.0./t50;
t52 = 1.0./I2;
t53 = dq2-dq4;
t54 = d2.*t53;
t55 = q2-q4;
t56 = c2.*t55;
t57 = I2.*I4.*1.6e1;
t58 = I2.*m4.*t21.*4.0;
t59 = t39+t41+t42+t43+t44+t45+t46+t49+t57+t58;
t60 = t23+t24;
t61 = m4.*t18.*t38;
t77 = dq3.*1.6171875e-1;
t78 = m4.*t13.*t31;
t62 = t4+t6+t61-t77-t78;
t63 = L1.*L2.*m4.*t47.*2.0;
t64 = t23+t24+t63;
t65 = (L2.*m4.*t14.*t38)./2.0;
t74 = dq4./2.5e1;
t75 = (L2.*m4.*t8.*t31)./2.0;
t66 = t54+t56+t65-t74-t75;
t67 = t20.*t21.*t40.*4.0;
t68 = t47.^2;
t76 = t20.*t21.*t40.*t68.*4.0;
t69 = t39+t41+t42+t43+t44+t45+t46+t67-t76;
t70 = 1.0./t69;
t71 = t64.*t66.*t70.*4.0;
t72 = dq2./1.25e2;
t73 = t54+t56+t72;
f_xu = [dq1;dq2;dq3;dq4;t2.*u1-t2.*(dq1.*(7.0./5.0e1)+t4+t6);t71-t51.*t60.*t62.*4.0-t51.*t52.*t59.*t73+t51.*t52.*t59.*u2;-t71+t51.*t60.*t62.*4.0+t51.*t60.*t73.*4.0-t51.*t60.*u2.*4.0;t62.*t64.*t70.*-4.0-t64.*t70.*t73.*4.0+t64.*t70.*u2.*4.0+t66.*t70.*(I3.*4.0+t23+t24+m2.*t20.*4.0+m3.*t20+m4.*t20.*4.0+L1.*L2.*m4.*t47.*4.0).*4.0];
